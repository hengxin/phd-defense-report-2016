\section{研究问题}

%%%%%%%%%%%%%%%
\begin{frame}{分布数据一致性问题}
  \graphicspath{{tikz-in-beamer/}}
  \begin{figure}[h!]
    \centering
    \begin{adjustbox}{max totalsize = {0.60\textwidth}{1.00\textheight}, center}
	  \input{tikz-in-beamer/distributed-data-overlay-for-problem}
    \end{adjustbox}
  \end{figure}

  \uncover<2->{
	\textcolor{red}{分布数据 \term{distributed data}} $\Leftarrow$ 共享 (集中式) 数据 \term{shared data}:}
  \begin{description}
	\item<3->[上层应用:] 分布数据的语义是什么? 如何``方便''地使用分布数据?
	\item<4->[数据副本:] 以何种顺序应用更新? 对应用提供什么保证?
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{分布数据一致性问题}
  \begin{figure}[h!]
    \centering
    \begin{adjustbox}{max totalsize = {0.70\textwidth}{1.00\textheight}, center}
	  \input{tikz-in-beamer/data-inconsistency-comment-reordering}
    \end{adjustbox}
	\caption{社交网络中, 消息-评论乱序 \citeinbeamer{Lloyd}{CACM}{14}.}
  \end{figure}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{分布数据一致性问题}
  \begin{columns}[t]
	\column{0.50\textwidth}
	  理想情况:
	  \begin{itemize}
		\item one-size-fits-all 一致性模型
		\item 始终观察到最新副本
	  \end{itemize}
	  \only<1-2>{
	  \begin{center}
		\textcolor{blue}{没有分布数据一致性问题}
	  \end{center}
	  }
	  \only<3->{
	  \begin{center}
		\textcolor{blue}{\soutthick{没有分布数据一致性问题}}
	  \end{center}
	  }
    \pause
	\column{0.50\textwidth}
	实际情况 (tradeoffs) \citeinbeamer{Guerraoui}{TCDE}{16}:
	  \fignocaption{width = 0.60\textwidth}{figures/consistency-centric-tradeoff.pdf}
  \end{columns}
  \pause
  \vspace{0.50cm}
  \begin{center}
	% \textcolor{red}{分布数据一致性问题是分布共享数据服务中的核心问题}
	\textcolor{blue}{以数据一致性为核心的权衡使得该问题具有挑战性}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%
% \begin{frame}{分布数据一致性问题举例 (I)}
%   \fig{width = 0.60\textwidth}{figures/data-inconsistency-comment-reordering.pdf}
%   {社交网络中, 消息-评论乱序 \citeinbeamer{Lloyd}{CACM}{14}.}
% \end{frame}
% %%%%%%%%%%%%%%%
% \begin{frame}{分布数据一致性问题举例 (II)}
%   \begin{figure}[h!]
%     \centering
%     \begin{adjustbox}{max totalsize = {0.65\textwidth}{0.65\textheight}, center}
%       \input{figures/data-inconsistency-update-lost}
%     \end{adjustbox}
%     \caption{多设备文件共享时, 更新丢失 ($\#N = 3, \#W = 2, \#R = 1$).}
%   \end{figure}
% \end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{分布数据一致性问题}
  \mdf{red}{blue}{论文研究问题}{teal}{考虑到上述权衡, \\ 面向大规模分布式系统的\\分布数据一致性理论应具有什么特性?}

  \pause
  \vspace{0.80cm}

  考察分布数据一致性问题研究的历史:
  \vspace{8pt}
  \begin{itemize}
	\setlength{\itemsep}{6pt}
	\item 核心权衡与解决方案 
	  \pause
	\item 理论与系统
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的历史阶段}
  \fignocaption{width = 0.90\textwidth}{figures/consistency-model-history.pdf}
\end{frame}
%%%%%%%%%%%%%%%
%%%%% TODO: draw the history
\begin{frame}{数据一致性问题研究的历史阶段 (多处理器系统)}
  \fig{width = 0.35\textwidth}{figures/consistency-lattice.png}{一致性模型 {\scriptsize (依据 \citeinbeamer{Steinke}{JACM}{04} 中 Figure~13 重绘)}.}

  \begin{center}
	核心权衡: 一致性模型的计算能力 vs. 系统性能
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的历史阶段 (分布式系统)}
  \graphicspath{{tikz-in-beamer/}}
  \begin{figure}[h!]
    \centering
    \begin{adjustbox}{max totalsize = {1.00\textwidth}{1.00\textheight}, center}
	  \input{tikz-in-beamer/consistency-model-distributed-system-history-beamer}
    \end{adjustbox}
  \end{figure}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的历史阶段 (结论)}
  \uncover<1->{\textcolor{blue}{新平台的两个特点:}}
  \begin{center}
	\uncover<2->{(1) 云计算新平台凸显应用价值观}

	\uncover<3->{(2) 应用价值观积极拥抱 tradeoffs}
  \end{center}

  \uncover<1->{\textcolor{blue}{需要什么样的数据一致性理论?}}
  \vspace{0.30cm}

  \begin{columns}[t]
	\column{0.50\textwidth}
	  \uncover<2->{
	  (1) 与应用价值观相匹配
	  \fignocaption{width = 0.50\textwidth}{figures/theory-vs-system.pdf}
	  } 
	\column{0.50\textwidth}
	  \uncover<3->{
	　(2) 体现更丰富的 tradeoffs
	  \fignocaption{width = 0.60\textwidth}{figures/consistency-centric-tradeoff.pdf}
	  }
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的发展趋势及我们的工作 (I)}
  \begin{columns}[t]
	\column{0.45\textwidth}
	  购物车一致性需求 % \textcolor{blue}{\tiny [Terry@SOSP'13]} % \citeinbeamer{Terry}{SOSP}{13}:
	  \begin{itemize}
		\item 优先 \textcolor{blue}{\texttt{\small read-my-writes}}
		\item 可接受 \textcolor{blue}{\texttt{\small any consistency}} 只要延迟低于300ms
	  \end{itemize}
	\column{0.55\textwidth}
	  出租车实时位置查询一致性需求:
	  \begin{itemize}
		\item 所有读请求都要满足 \textcolor{blue}{\texttt{\small 2-atomicity}}
		\item 违反 \textcolor{blue}{\texttt{\small atomicity}} 的读请求低于$1\%$ 
	  \end{itemize}
  \end{columns}

  \pause
  \vspace{1.00cm}

  \textcolor{red}{应用价值观导向的数据一致性理论:}
  \begin{enumerate}
	\item 多样化, 可调节
	\item 精细化, 可度量
  \end{enumerate}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的发展趋势及我们的工作 (II)}
  \begin{description}
	\setlength{\itemsep}{10pt}
	\item[多样化:] 从单一到融合 (mono- vs. multi-) \citeinbeamer{Terry}{CACM}{13} 
	  \vspace{5pt}
	  \begin{itemize}
		\setlength{\itemsep}{5pt}
		\item 融合强弱一致性: 不同操作, 不同一致性需求 
		\item 融合一致与不一致: 容忍``有限度''的不一致
	  \end{itemize}
	  \begin{columns}
		\column{0.50\textwidth}
		  \fignocaption{width = 0.50\textwidth}{figures/tradeoff.jpg} 
		\column{0.50\textwidth}
		  \fignocaption{width = 0.35\textwidth}{figures/one-size-fit-all-text.jpg} 
	  \end{columns}
	\pause
	\item[可调节:] think \textcolor{red}{\it dynamically} \citeinbeamer{Terry}{SOSP}{13}
	  \vspace{10pt}
	  \begin{center}
	    依据应用需求/系统状态调节数据一致性
	  \end{center}
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的发展趋势及我们的工作 (III)}
  \begin{description}
	\setlength{\itemsep}{20pt}
	\item[精细化:] 从二元到连续谱 \citeinbeamer{Yu}{TOCS}{02}
	  \begin{columns}
		\column{0.50\textwidth}
		  % \fignocaption{scale = 0.06}{figures/coin-flip.jpg}
		  \fignocaption{scale = 0.15}{figures/black-or-white.jpg}
		\column{0.50\textwidth}
		  \fignocaption{scale = 0.05}{figures/prism-spectrum.jpg}
	  \end{columns}
	  \pause
	\item[可度量:] think \textcolor{red}{\it probabilistically} \citeinbeamer{Brewer}{PODC}{00}
	  \fignocaption{width = 0.25\textwidth}{figures/tape-measure.jpg}
	  \begin{center}
		量化系统执行, 后验系统对一致性的满足程度
	  \end{center}
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%
\begin{frame}{数据一致性问题研究的发展趋势及我们的工作 (III)}
  \mdf{red}{red}{论文研究问题}{teal}{如何在大规模分布式系统中\\落实\idea{}\\这一体现应用价值观的数据一致性问题研究理念?}

  \pause

  \mdf{blue}{blue}{论文主要贡献}{black}{
	\begin{description}[<+->]
	  \item[理念:] 提出``以应用为导向的''、\idea{} 的一致性问题研究理念
	  \item[VPC:]
	  \item[PA2AM:]
	  \item[RVSI:]
	\end{description}
  }
\end{frame}
%%%%%%%%%%%%%%%
